<div data-ng-repeat="error in errors">
    <div><span class="icon_sprite icon_error error"></span>{{error}}</div>
</div>
   
<div data-ng-form="institutionForm" class="formWrapper">
    <div data-ng-show="institutionForm.$dirty" class="dirtynag">* Warning: You have unsaved changes</div>
    <div class="fieldGroup">
    <h5>{{formAction}} {{entityNameLabels['Institution']}} Information <span class="control-label-required">Indicates required field</span></h5>
        <ul class="entityLayout">
             <li>
                <span> 
                    <label class="control-label-required" for="institution.entityId">{{xwalk('Institution Identifier')}}:</label>
                    <input type="text" data-ng-model="institution.entityId"/>
                
                </span>
            </li>
             <li>
                <span> 
                    <label class="control-label-required" for="institution.entityName">{{xwalk('Name of Institution')}}:</label>
                    <input type="text" data-ng-model="institution.entityName"/>
                
                </span>
            </li>  
            <li>
                <span> 
                    <label class="control-label-required" for="institution.parentEntityType">{{xwalk('Parent Entity Type')}}:</label>
                     <select  data-ng-model="institution.parentEntityType" data-load-parent-entities="{{institution.parentEntityType}}" data-ng-options="entity.entityId as entity.entityName for entity in entities" >
                        <option value="">Select...</option>
                    </select>
                </span>
            </li>
            <li>
                <span>
                    <label class="control-label-required" for="institution.parentEntityId">{{xwalk('Parent External Id')}}:</label>
                    <select data-ng-model="institution.parentId" data-ng-options="entity.id as entity.entityId + ' - ' + entity.entityName for entity in selectedParentEntities | orderBy:'entityId'" data-ng-change="setParentInfoOnChange(institution.parentId)">
                      <option value="">Select...</option>
                    </select>
                </span>
            </li>  
            <li>
                <span> 
                    <label class="control-label-required" for="institution.nationwideIdentifier">{{xwalk('NCES Institution Id')}}:</label>
                    <input type="text" data-ng-model="institution.nationwideIdentifier"/>
                </span>
            </li>                
              
            <li>
                <span> 
                    <label class="control-label-required" for="institution.stateAbbreviation" >{{xwalk('State Abbreviation')}}:</label>
                    <select data-ng-model="institution.stateAbbreviation" data-ng-options="id.entityId as id.entityId for id in states | orderBy:'entityId'" >
                       <option value="" >Select...</option>
                    </select>
                </span>
            </li>
            <li>
                <span>
               </span>
            </li>
        </ul>  

        <button type="button" class="boxBtn" data-ng-show="institutionForm.$dirty" data-ng-click="save(institution)">
            <span class="btnIcon icon_sprite icon_save2 ng-class:{ajax_indicator:savingIndicator}" ></span>
            <span class="btnText">Save</span>
        </button>
     
        <button type="button" class="boxBtn" data-ng-click="cancel()">
            <span class="btnIcon icon_sprite icon_cancel2" ></span>
            <span class="btnText">Cancel</span>
        </button>
    </div>
</div>
<div class="clear"></div>

 