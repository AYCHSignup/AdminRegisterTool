/*******************************************************************************
 * Educational Online Test Delivery System
 * Copyright (c) 2013 American Institutes for Research
 * 
 * Distributed under the AIR Open Source License, Version 1.0
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.delivery.testadmin.domain;

import org.opentestsystem.delivery.testreg.domain.FormatType;
import org.opentestsystem.delivery.testreg.domain.HierarchyLevel;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

@JsonIgnoreProperties(ignoreUnknown = true)
public class ParticipationSummaryReport implements TestAdminReport {

    private static final long serialVersionUID = 1228073155461859828L;

    public static final String PARTICIPATE_REPORT_SUMMARY = "PARTICIPATE_REPORT_SUMMARY";

    private String currentDateTime;

    private String testName;

    private String testLabel;

    private long totalCount;

    private long notStartedCount;

    private long scheduledCount;

    private long startedCount;

    private long completedCount;

    private long optedOutCount;

    private float percentStarted;

    private float percentScheduled;

    private float percentNotStarted;

    private float percentCompleted;

    private float percentOpted;

    private String entityId;

    private String entityName;

    private String parentEntityId;

    private String parentEntityName;

    private HierarchyLevel parentEntityType;

    private FormatType formatType;

    public String getTestLabel() {
        return testLabel;
    }

    public void setTestLabel(String testLabel) {
        this.testLabel = testLabel;
    }

    public String getTestName() {
        return testName;
    }

    public void setTestName(String testName) {
        this.testName = testName;
    }

    public long getStartedCount() {
        return startedCount;
    }

    public void setStartedCount(long startedCount) {
        this.startedCount = startedCount;
    }

    public long getCompletedCount() {
        return completedCount;
    }

    public void setCompletedCount(long completedCount) {
        this.completedCount = completedCount;
    }

    public long getOptedOutCount() {
        return optedOutCount;
    }

    public void setOptedOutCount(long optedOutCount) {
        this.optedOutCount = optedOutCount;
    }

    public FormatType getFormatType() {
        return formatType;
    }

    public void setFormatType(FormatType formatType) {
        this.formatType = formatType;
    }

    public void setPercentStarted(float percentStarted) {
        this.percentStarted = percentStarted;
    }

    public long getTotalCount() {
        return totalCount;
    }

    public void setTotalCount(long totalCount) {
        this.totalCount = totalCount;
    }

    public long getScheduledCount() {
        return scheduledCount;
    }

    public void setScheduledCount(long scheduledCount) {
        this.scheduledCount = scheduledCount;
    }

    public void getPercentCompleted(float percentStarted) {
        this.percentStarted = percentStarted;
    }

    public void setPercentScheduled(float percentScheduled) {
        this.percentScheduled = percentScheduled;
    }

    public void setPercentOpted(float percentOpted) {
        this.percentOpted = percentOpted;
    }

    public void setPercentCompleted(float percentCompleted) {
        this.percentCompleted = percentCompleted;
    }

    public String getEntityId() {
        return entityId;
    }

    public void setEntityId(String entityId) {
        this.entityId = entityId;
    }

    public String getEntityName() {
        return entityName;
    }

    public void setEntityName(String entityName) {
        this.entityName = entityName;
    }

    public String getParentEntityId() {
        return parentEntityId;
    }

    public void setParentEntityId(String parentEntityId) {
        this.parentEntityId = parentEntityId;
    }

    public String getParentEntityName() {
        return parentEntityName;
    }

    public void setParentEntityName(String parentEntityName) {
        this.parentEntityName = parentEntityName;
    }

    public String getCurrentDateTime() {
        return currentDateTime;
    }

    public void setCurrentDateTime(String currentDateTime) {
        this.currentDateTime = currentDateTime;
    }

    public HierarchyLevel getParentEntityType() {
        return parentEntityType;
    }

    public void setParentEntityType(HierarchyLevel parentEntityType) {
        this.parentEntityType = parentEntityType;
    }

    public long getNotStartedCount() {
        return notStartedCount;
    }

    public void setNotStartedCount(long notStartedCount) {
        this.notStartedCount = notStartedCount;
    }

    public void setPercentNotStarted(float percentNotStarted) {
        this.percentNotStarted = percentNotStarted;
    }

    public float getPercentNotStarted() {
        if (totalCount != 0)
            percentNotStarted = notStartedCount * 100 / totalCount;
        return percentNotStarted;
    }

    public float getPercentStarted() {
        if (totalCount != 0)
            percentStarted = startedCount * 100 / totalCount;
        return percentStarted;
    }

    public float getPercentOpted() {
        if (totalCount != 0)
            percentOpted = optedOutCount * 100 / totalCount;
        return percentOpted;

    }

    public float getPercentScheduled() {
        if (totalCount != 0)
            percentScheduled = scheduledCount * 100 / totalCount;
        return percentScheduled;
    }

    public float getPercentCompleted() {
        if (totalCount != 0)
            percentCompleted = completedCount * 100 / totalCount;
        return percentCompleted;
    }

    public String[] toStringArray() {
        String[] elements = new String[17];
        elements[0] = this.getCurrentDateTime();
        elements[1] = this.getTestName();
        elements[2] = this.getTestLabel();
        elements[3] = this.getParentEntityId();
        elements[4] = this.getParentEntityName();
        if (this.getParentEntityType() != null) {
            elements[5] = this.getParentEntityType().getProgmanEnumName();
        } else {
            elements[5] = "";
        }
        elements[6] = this.getEntityId();
        elements[7] = this.getEntityName();
        elements[8] = this.getTotalCount() + "";
        elements[9] = this.getScheduledCount() + "";
        elements[10] = this.getPercentScheduled() + "";
        elements[11] = this.getStartedCount() + "";
        elements[12] = this.getPercentStarted() + "";
        elements[13] = this.getCompletedCount() + "";
        elements[14] = this.getPercentCompleted() + "";
        elements[15] = this.getOptedOutCount() + "";
        elements[16] = this.getPercentOpted() + "";

        return elements;

    }

}
