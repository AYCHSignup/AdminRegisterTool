package org.opentestsystem.delivery.testreg.domain.amqp;

import org.apache.commons.lang.StringUtils;
import org.opentestsystem.delivery.testreg.domain.Student;

import java.io.Serializable;

/**
 * Created by fairway on 7/11/16.
 */
public class BatchStudent implements Serializable {

    private Student student;

    private String batchId;

    private String stateCode;

    private String ssidToDelete;

    private StudentSecurity studentSecurity;

    public String getStateCode() {
        return stateCode;
    }

    public void setStateCode(String stateCode) {
        this.stateCode = stateCode;
    }

    public Student getStudent() {
        return student;
    }

    public void setStudent(Student student) {
        this.student = student;
    }

    public String getBatchId() {
        return batchId;
    }

    public void setBatchId(String batchId) {
        this.batchId = batchId;
    }

    public String getSsidToDelete() {
        return ssidToDelete;
    }

    public void setSsidToDelete(String ssidToDelete) {
        this.ssidToDelete = ssidToDelete;
    }

    public boolean isUpsert() {
        return student != null && StringUtils.isEmpty(ssidToDelete) && isValid();
    }

    public boolean isDelete() {
        return student == null && !StringUtils.isEmpty(ssidToDelete) && isValid();
    }

    private boolean isValid() {
        return (student != null || !StringUtils.isEmpty(ssidToDelete))
                && (student == null || StringUtils.isEmpty(ssidToDelete))
                && (!StringUtils.isEmpty(batchId));
    }

    public StudentSecurity getStudentSecurity() {
        return studentSecurity;
    }

    public void setStudentSecurity(StudentSecurity studentSecurity) {
        this.studentSecurity = studentSecurity;
    }
}
