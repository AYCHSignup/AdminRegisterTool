/*******************************************************************************
 * Educational Online Test Delivery System
 * Copyright (c) 2013 American Institutes for Research
 * 
 * Distributed under the AIR Open Source License, Version 1.0
 * See accompanying file AIR-License-1_0.txt or at
 * http://www.smarterapp.org/documents/American_Institutes_for_Research_Open_Source_Software_License.pdf
 ******************************************************************************/
package org.opentestsystem.delivery.testreg.rest;

import java.io.Serializable;

/**
 * Describes Validation Message. Validation Message can be of type FATAL_ERROR, RECORD_ERROR and WARNING.
 *
 */
public class ValidationMessage implements Serializable, Comparable<ValidationMessage> {

    private static final long serialVersionUID = -2508345935303200619L;
    
    public enum ValidationMessageType{
        FATAL_ERROR, RECORD_ERROR, WARNING
    }
    
    private String message;
    private int recordNumber;
    private String fieldName;
    private String fieldValue;
    private String entityName;
    private ValidationMessageType type;
    
    public ValidationMessage() {
        //default constructor
        super();
    }
    
    public ValidationMessage(String message, ValidationMessageType type) {
        super();
        this.message = message;
        this.type = type;
    }
    
    /**
     * @return the message
     */
    public String getMessage() {
        return message;
    }
    /**
     * @param message the message to set
     */
    public void setMessage(String message) {
        this.message = message;
    }
    /**
     * @return the recordNumber
     */
    public int getRecordNumber() {
        return recordNumber;
    }
    /**
     * @param recordNumber the recordNumber to set
     */
    public void setRecordNumber(int recordNumber) {
        this.recordNumber = recordNumber;
    }
    /**
     * @return the fieldName
     */
    public String getFieldName() {
        return fieldName;
    }
    /**
     * @param fieldName the fieldName to set
     */
    public void setFieldName(String fieldName) {
        this.fieldName = fieldName;
    }
    /**
     * @return the fieldValue
     */
    public String getFieldValue() {
        return fieldValue;
    }
    /**
     * @param fieldValue the fieldValue to set
     */
    public void setFieldValue(String fieldValue) {
        this.fieldValue = fieldValue;
    }
    /**
     * @return the entityName
     */
    public String getEntityName() {
        return entityName;
    }
    /**
     * @param entityName the entityName to set
     */
    public void setEntityName(String entityName) {
        this.entityName = entityName;
    }
    /**
     * @return the type
     */
    public ValidationMessageType getType() {
        return type;
    }
    /**
     * @param type the type to set
     */
    public void setType(ValidationMessageType type) {
        this.type = type;
    }

    @Override
    public int compareTo(ValidationMessage o) {
        int val = this.getRecordNumber() - o.getRecordNumber();
        
        if(this.fieldName == null && o.fieldName == null) {
            return val == 0 ? this.message.compareTo(o.message) : val;
        }
        return val == 0 ? this.fieldName.compareTo(o.fieldName) : val;
    } 
}
